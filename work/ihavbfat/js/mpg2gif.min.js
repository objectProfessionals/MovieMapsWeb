function getPixel(e,t){var a=4*t,n=e.data,o=[n[a],n[a+1],n[a+2],n[a+3]],i=o[0],u=o[1],d=o[2];o[3];return(i+u+d)/765}function getPixelLengthValueXY(e,t,a){return 2.55*getPixel(e,a*e.width+t)*kSampleRate}function getPixelSoundValueXY(e,t,a){return getPixel(e,a*e.width+t)-.5}function replay(){var e=document.getElementById("myImg"),t=e.src;e.src="nothing",e.src=t,play()}function play(){var e=document.getElementById("volume");amp=e.value;var t=document.getElementById("myImg");t.onmouseover=replay;var a=t.width,n=t.height,o=document.getElementById("myCanvas");o.width=a,o.height=n;var i=o.getContext("2d");i.drawImage(t,0,0,a,n),imgData=i.getImageData(0,0,a,n),doWav(),t.style=""}function showGIF(){var e=document.getElementById("myImg");e.style=""}function doWav(){for(var e=ctx.createBuffer(1,kNumSamples,kSampleRate),t=e.getChannelData(0),a=0,n=0,o=0,i=0,u=0,d=imgData.width-1,r=imgData.height-1,m=getPixelLengthValueXY(imgData,0,0),g=0;m>g;g++){var l=getPixelSoundValueXY(imgData,a,n);t[g]=l*amp,0==o?(a++,a>d&&(o=1,a=d,d--)):1==o?(n++,n>r&&(o=2,n=r,r--)):2==o?(a--,a==i&&(o=3,a=i,i++)):3==o&&(n--,n==u&&(o=0,u++,n=u))}node=ctx.createBufferSource(0),node.buffer=e,node.connect(ctx.destination),node.start(ctx.currentTime)}const kSampleRate=8e3,kNumSamples=20400;var amp=1;window.AudioContext||(window.webkitAudioContext||alert("Your browser sucks because it does NOT support any AudioContext!"),window.AudioContext=window.webkitAudioContext);var ctx=new AudioContext,node,tid,imgData;